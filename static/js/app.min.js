function armoTemplateCard(a){for(var b=0,c=Math.max(a.segmentos_capital.length,a.segmentos_provincia.length),d='<div class="capital">',e='<div class="provincia">',f='<div class="card shadow oculta estadoBorde" id="'+a.id+'"><div class="titulo">'+a.nombre+'</div><div class="segmentos"><div class="contenedorSegmentos"><div class="etiquetas">',g=0;c>g;g++){var h="";h=0!=a.segmentos_capital.length?a.segmentos_capital[g].id:a.segmentos_provincia[g].id,f=f+'<div class="segmento"><div class="etiquetaSegmento">'+nombreDeCorredor(h)+"</div></div>"}if(f+="</div>",a.segmentos_capital.length>0){f+=d;for(var i=0;c>i;i++)f=f+'<div class="segmento"><div class="estadoSegmento estado'+a.segmentos_capital[i].anomalia+'">'+a.segmentos_capital[i].id+"</div></div>",a.segmentos_capital[i].anomalia>b&&(b=a.segmentos_capital[i].anomalia);f+="</div>"}if(a.segmentos_provincia.length>0){f+=e;for(var j=0;c>j;j++)f=f+'<div class="segmento"><div class="estadoSegmento estado'+a.segmentos_provincia[j].anomalia+'">'+a.segmentos_provincia[j].id+"</div></div>",a.segmentos_provincia[j].anomalia>b&&(b=a.segmentos_provincia[j].anomalia);f+="</div>"}return f+='</div></div><div class="icono"> </div></div></div>',f=f.replace("estadoBorde","estadoBorde"+b),0===b&&(f=""),f}function agregaCard(a){0!=$("#"+a.id).length&&$("#"+a.id).remove();var b=armoTemplateCard(a);$("#cards").prepend(b),$(".card").fadeIn()}function nombreDeCorredor(a){return nombresDeCorredores[a].nombreSegmento}var nombresDeCorredores=function(){var a=null;return $.ajax({async:!1,global:!1,url:"_static/data/segmentos.json",dataType:"json",success:function(b){console.log("json leido"),a=b}}),a}();